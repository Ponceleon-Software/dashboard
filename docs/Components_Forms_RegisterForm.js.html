<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Components/Forms/RegisterForm.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Components/Forms/RegisterForm.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { ComponenteReactivo, CustomElement } from "../../Utils/reactivity.js";
import { Input } from "../Inputs/Input.js";
import { Button } from "../Buttons/Button.js";
import { Select } from "../Selects/Select.js";
import { validate_register_fields, getData } from "./registerForm_Utilities.js";

/**
 * @typedef {import('./registerForm_Utilities').RegisterData} RegisterData
 */

/**
 * Regresa el objeto con los elementos hijos del Componente de RegisterForm
 * @type {function}
 * @param {Object} config Define las propiedades asociadas a los elementos creados dentro de este Componente
 * @returns {Object}
 */

const registerFormElements = (config = {}) => {
  const C = CustomElement;
  const username_input = Input({
    type: "text",
    placeholder: "Nombre de Usuario",
    labelText: "Usuario",
    pattern: "^(?=[a-zA-Z0-9._]{8,20}$)(?!.*[_.]{2})[^_.].*[^_.]$",
    isRequired: true,
    name: "user",
  });
  const email_input = Input({
    type: "email",
    placeholder: "Dirección de correo",
    labelText: "Correo Electrónico",
    isRequired: true,
    name: "email",
  });
  const password_input = Input({
    type: "text",
    placeholder: "Contraseña",
    labelText: "Contraseña",
    fieldsetClass: "w-38",
    name: "password",
    pattern: "(?=^.{8,}$)((?=.*d)|(?=.*W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$",
    isRequired: true,
  });
  const repeat_password_input = Input({
    type: "text",
    placeholder: "Repita la Contraseña",
    labelText: "Repetir Contraseña",
    fieldsetClass: "w-38",
    name: "repeat_password",
    pattern: "(?=^.{8,}$)((?=.*d)|(?=.*W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$",
    isRequired: true,
  });
  const register_button = Button({
    buttonText: "Registrarme",
    action: "undefined",
    id: "btn_register",
    className: "mt-6 bg-black",
    type: "submit",
    form: "register_form",
  });
  const phone_input = Input({
    type: "tel",
    placeholder: "456-7892",
    labelText: "Teléfono de Contacto",
    fieldsetClass: "w-2/3",
    pattern: "[0-9]{7}",
    name: "phone",
  });

  const phone_code_input = Select({
    selectName: "codigo_de_area",
    labelText: "Cod. País",
    className: "w-full",
    fieldsetClass: "w-1/3",
    hasLabel: true,
    options: ["🇻🇪+58", "🇨🇴+57"],
    name: "phone_code",
  });

  return {
    form: C.create("form", {
      className:
        "h-4/5 bg-base-200 rounded-md w-3/5 flex flex-col justify-center items-center",
      id: "register_form",
      method: "post",
    }),
    username_field: username_input.get("parent"),
    password_fields: C.create(
      "div",
      { className: "flex justify-between items-center w-3/4" },
      [password_input.get("parent"), repeat_password_input.get("parent")]
    ),
    email_field: email_input.get("parent"),
    phone_fields: C.create(
      "div",
      { className: "flex justify-between items-end w-3/4" },
      [phone_code_input.get("parent"), phone_input.get("parent")]
    ),
    button: register_button.get("button"),
  };
};

/**
 * Definición del estado de RegisterForm
 * @typedef {Object} RegisterForm_state
 * @property {Boolean} allFieldsValid
 */

/**
 * Define las propiedades del estado del Componente Login y regresa en el template los elementos hijos del Componente
 * @param {Object} elements Objeto con los elementos del
 * @property {HTMLElement} form  Formulario de inicio de Sesión, Padre de los componentes de RegisterForm
 * @property {HTMLElement} button Botón para iniciar sesión
 * @property {HTMLElement} username_field Input para correo Electrónico
 * @property {HTMLElement} password_fields Div con Inputs para contraseña
 * @property {HTMLElement} phone_fields Div con Inputs para teléfono y codigo de area
 * @param {RegisterForm_state} state Estado inicial del componente
 */

function _RegisterForm(elements) {
  this.state = {
    allFieldsValid: false,
  };
  this.form = elements.form;
  this.username_field = elements.username_field;
  this.email_field = elements.email_field;
  this.password_fields = elements.password_fields;
  this.phone_fields = elements.phone_fields;
  this.button = elements.button;
  elements.form.append(
    elements.username_field,
    elements.email_field,
    elements.password_fields,
    elements.phone_fields,
    elements.button
  );
  this.element = elements.form;
  this.template = function () {
    const state = JSON.parse(JSON.stringify(this.state));
    const { allFieldsValid } = state;
    console.log(this.form);

    return [
      this.username_field,
      this.email_field,
      this.password_fields,
      this.phone_fields,
      this.button,
    ];
  };
}
_RegisterForm.prototype = Object.create(ComponenteReactivo.prototype);
_RegisterForm.prototype.constructor = _RegisterForm;

/**
 * Definición del tipo RegisterFormMethods
 * @typedef {Object} RegisterFormMethods
 * @property {HTMLElement} container - Contenedor Padre
 * @property {HTMLElement[]} elements - Array de los elementos del Componente
 * @property {function(string):HTMLElement} get  Regresa un elemento de los hijos del componente
 * @property {function():HTMLElement[]} getFields  Regresa un array de los inputs del componente
 * @property {function():void} validateFields  Llama al util validate_register_fields()
 * @property {function():RegisterData} getData Llama al util getData() y devuelve un objeto con los datos de los campos
 * @property {function():void} setValid Cambia el estado de allFieldsValid a true
 */

/**
 * Componente con el Formulario para Registro de Usuario
 * @type {ComponenteReactivo}
 * @param {Object} config Configuración para instanciar el Componente
 * @returns {RegisterFormMethods}
 */

const RegisterForm = ((config = {}) => {
  const elements = registerFormElements(config);
  const component = new _RegisterForm(elements);

  return {
    container: () => elements.element,
    elements: () => elements,
    get: (elementName) => elements[elementName],
    getComponent: () => component,
    getFields: () => [
      elements.username_field,
      elements.email_field,
      elements.password_fields,
      elements.phone_fields,
    ],
    validateFields: () => validate_register_fields(),
    getData: () => getData(),
    setValid: (valid = true) => component.setState({ allFieldsValid: valid }),
  };
})();
export { RegisterForm };
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#_Login">_Login</a></li><li><a href="global.html#_LoginForm">_LoginForm</a></li><li><a href="global.html#_Register">_Register</a></li><li><a href="global.html#_RegisterForm">_RegisterForm</a></li><li><a href="global.html#_Sign">_Sign</a></li><li><a href="global.html#ComponenteReactivo">ComponenteReactivo</a></li><li><a href="global.html#CustomElement">CustomElement</a></li><li><a href="global.html#Login">Login</a></li><li><a href="global.html#loginElements">loginElements</a></li><li><a href="global.html#LoginForm">LoginForm</a></li><li><a href="global.html#loginFormElements">loginFormElements</a></li><li><a href="global.html#Register">Register</a></li><li><a href="global.html#registerElements">registerElements</a></li><li><a href="global.html#RegisterForm">RegisterForm</a></li><li><a href="global.html#registerFormElements">registerFormElements</a></li><li><a href="global.html#Sign">Sign</a></li><li><a href="global.html#signElements">signElements</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Fri Apr 16 2021 16:32:57 GMT-0400 (Venezuela Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
